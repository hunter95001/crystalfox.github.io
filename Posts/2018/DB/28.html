<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title> Trigger WHEN</title>
  <link rel="stylesheet" type="text/css" href="../../../CSS/Style.css">
  <link rel="stylesheet" type="text/css" href="../../../CSS/Post.css">
  <link rel="stylesheet" type="text/css" href="../../../CSS/Attach.css">
  <link rel="shortcut icon" href="https://raw.githubusercontent.com/hunter95001/crystalfox.github.io/master/Image/favicon.ico">
  
  <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $("#sider").load("https://hunter95001.github.io/crystalfox.github.io/include/sider.html"); // 원하는 파일 경로를 삽입하면 된다
      $("#footers").load("https://hunter95001.github.io/crystalfox.github.io/include/footer.html"); // 추가 인클루드를 원할 경우 이런식으로 추가하면 된다
    });
  </script>

</head>

<body>
  <div id="wrapper">

    <div id="sider"></div>

    <div id="main-wrapper">
      <div style="maring:30px">
        <font size="5" color="#f0f0f0">Div 영역입니다.</font>
      </div>
      <div class="main-post">
        <div class="main-title">
          <h1>Trigger WHEN</h1>
          <h2>데이터 베이스</h2>
          <p class="main-title-time">작성일 : 2018-11-19</p>
        </div>
        <hr>
 <!--  본문 시작-->
         <a href="https://github.com/hunter95001/DBPrograming/tree/master/DB/28"><br>
	<div  class ="attachment">
		<img  class="icon" align="left"  src="https://github.com/hunter95001/crystalfox.github.io/blob/master/Image/Folder.png?raw=true" > 
		<font class="attach-text">트리거</font> 
		<img class="icon" align="right"src="https://github.com/hunter95001/crystalfox.github.io/blob/master/Image/File.png?raw=true" > 	
	</div>
	</a>
	      
<div class="colorscripter-code" style="color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#fafafa;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #e5e5e5"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#666;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">CREATE</span>&nbsp;OR&nbsp;REPLACE&nbsp;TRIGGER&nbsp;t_order</div><div style="padding:0 6px; white-space:pre; line-height:130%">BEFORE&nbsp;<span style="color:#ff3399">INSERT</span>&nbsp;<span style="color:#ff3399">ON</span>&nbsp;t_order</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;FOR&nbsp;EACH&nbsp;ROW</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;(NEW.ord_code<span style="color:#010101"></span><span style="color:#0099cc">=</span>&nbsp;<span style="color:#7DA123">'C500'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">BEGIN</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">IF</span>(TO_CHAR(SYSDATE,&nbsp;<span style="color:#7DA123">'HH24:MI'</span>)&nbsp;<span style="color:#ff3399">NOT</span>&nbsp;BETWEEN&nbsp;<span style="color:#7DA123">'11:10&nbsp;'</span>&nbsp;AND&nbsp;<span style="color:#7DA123">'11:20'</span>)&nbsp;THEN&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RAISE_APPLICATION_ERROR(<span style="color:#010101"></span><span style="color:#0099cc">-</span><span style="color:#004fc8">20100</span>,<span style="color:#7DA123">'허용시간이&nbsp;아닙니다'</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;<span style="color:#ff3399">IF</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">END;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#010101"></span><span style="color:#0099cc">/</span></div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#e5e5e5text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#e5e5e5;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
<div class="colorscripter-code" style="color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#fafafa;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #e5e5e5"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#666;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">CREATE</span>&nbsp;SEQUENCE&nbsp;log_seq</div><div style="padding:0 6px; white-space:pre; line-height:130%">INCREMENT&nbsp;<span style="color:#ff3399">BY</span>&nbsp;<span style="color:#004fc8">1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">START&nbsp;WITH&nbsp;<span style="color:#004fc8">1</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">CACHE&nbsp;<span style="color:#004fc8">2</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#010101"></span><span style="color:#0099cc">/</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">drop</span>&nbsp;<span style="color:#ff3399">table</span>&nbsp;emp2_log&nbsp;<span style="color:#ff3399">cascade</span>&nbsp;<span style="color:#ff3399">constraint</span>&nbsp;;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">CREATE</span>&nbsp;<span style="color:#ff3399">TABLE</span>&nbsp;EMP2_log&nbsp;(</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;SEQ_NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NUMBER&nbsp;<span style="color:#ff3399">PRIMARY</span>&nbsp;<span style="color:#ff3399">KEY</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;EMPNO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NUMBER,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VARCHAR2(<span style="color:#004fc8">30</span>)&nbsp;<span style="color:#ff3399">NOT</span>&nbsp;<span style="color:#ff3399">NULL</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;N_DEPTNO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VARCHAR2(<span style="color:#004fc8">06</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;N_PAY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NUMBER,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N_POSITION&nbsp;&nbsp;&nbsp;&nbsp;VARCHAR2(<span style="color:#004fc8">30</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;O_DEPTNO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VARCHAR2(<span style="color:#004fc8">06</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;O_PAY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NUMBER,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;O_POSITION&nbsp;&nbsp;&nbsp;&nbsp;VARCHAR2(<span style="color:#004fc8">30</span>),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;LOGTIME&nbsp;DATE,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;FLAG&nbsp;<span style="color:#0099cc">CHAR</span>(<span style="color:#004fc8">1</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">)</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#010101"></span><span style="color:#0099cc">/</span></div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#e5e5e5text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#e5e5e5;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>        
        <div class="colorscripter-code" style="color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#fafafa;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #e5e5e5"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#666;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">CREATE</span>&nbsp;or&nbsp;REPLACE&nbsp;TRIGGER&nbsp;test2_trigger</div><div style="padding:0 6px; white-space:pre; line-height:130%">AFTER&nbsp;<span style="color:#ff3399">INSERT</span>&nbsp;or&nbsp;<span style="color:#ff3399">UPDATE</span>&nbsp;or&nbsp;<span style="color:#ff3399">DELETE</span>&nbsp;<span style="color:#ff3399">on</span>&nbsp;emp2</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;FOR&nbsp;EACH&nbsp;ROW</div><div style="padding:0 6px; white-space:pre; line-height:130%">BEGIN</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">IF</span>&nbsp;INSERTING&nbsp;THEN</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">INSERT</span>&nbsp;<span style="color:#ff3399">INTO</span>&nbsp;emp2_log(seq_no,empno,&nbsp;name,&nbsp;n_deptno,n_pay,n_position,logtime,flag)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">VALUES</span>&nbsp;(log_seq.NEXTVAL,&nbsp;:new.empno,&nbsp;:new.name,&nbsp;:new.deptno,&nbsp;:new.pay,&nbsp;:new.position,&nbsp;SYSDATE,<span style="color:#7DA123">'I'</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;ELSIF&nbsp;UPDATING&nbsp;THEN</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">INSERT</span>&nbsp;<span style="color:#ff3399">INTO</span>&nbsp;emp2_log(seq_no,&nbsp;n_deptno,&nbsp;n_pay,&nbsp;n_position,&nbsp;o_deptno,&nbsp;o_pay,&nbsp;o_position,&nbsp;logtime,flag)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">VALUES</span>&nbsp;(log_seq.NEXTVAL,&nbsp;:new.deptno,&nbsp;:new.pay,&nbsp;:new.position,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:old.deptno,&nbsp;:old.pay,&nbsp;:old.position,&nbsp;SYSDATE,<span style="color:#7DA123">'U'</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSIF&nbsp;DELETING&nbsp;THEN</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">INSERT</span>&nbsp;<span style="color:#ff3399">INTO</span>&nbsp;emp2_log(seq_no&nbsp;,&nbsp;o_deptno,o_pay,o_position,logtime,flag)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">VALUES</span>&nbsp;(log_seq.NEXTVAL,&nbsp;:old.deptno,&nbsp;:old.pay,&nbsp;:old.position,&nbsp;SYSDATE,<span style="color:#7DA123">'D'</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;END&nbsp;<span style="color:#ff3399">IF</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;END;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#010101"></span><span style="color:#0099cc">/</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#e5e5e5text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#e5e5e5;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
        <div class="colorscripter-code" style="color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#fafafa;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #e5e5e5"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#666;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">drop</span>&nbsp;<span style="color:#ff3399">table</span>&nbsp;emp2_log&nbsp;<span style="color:#ff3399">cascade</span>&nbsp;<span style="color:#ff3399">constraint</span>&nbsp;;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">CREATE</span>&nbsp;<span style="color:#ff3399">TABLE</span>&nbsp;EMP2_log&nbsp;(&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">EMPNO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NUMBER&nbsp;&nbsp;&nbsp;<span style="color:#010101"></span><span style="color:#0099cc">&lt;</span><span style="color:#010101"></span><span style="color:#0099cc">-</span>기본키가&nbsp;있으면&nbsp;안됨.&nbsp;[그래서&nbsp;SEQUENCE를&nbsp;사용합니다.]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VARCHAR2(<span style="color:#004fc8">30</span>)&nbsp;<span style="color:#ff3399">NOT</span>&nbsp;<span style="color:#ff3399">NULL</span>,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">NEW_DEPTNO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VARCHAR2(<span style="color:#004fc8">06</span>),&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">NEW_PAY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NUMBER,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;NEW_POSITION&nbsp;&nbsp;&nbsp;&nbsp;VARCHAR2(<span style="color:#004fc8">30</span>),&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">OLD_DEPTNO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VARCHAR2(<span style="color:#004fc8">06</span>),&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">OLD_PAY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NUMBER,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;OLD_POSITION&nbsp;&nbsp;&nbsp;&nbsp;VARCHAR2(<span style="color:#004fc8">30</span>),&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">LOGTIME&nbsp;DATE,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">FLAG&nbsp;<span style="color:#0099cc">CHAR</span>(<span style="color:#004fc8">1</span>)&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">)&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#010101"></span><span style="color:#0099cc">/</span></div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#e5e5e5text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#e5e5e5;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
<table>
	<tbody>
              <tr>
                <td>
NEW</td>
                <td>OLD [변경 되는 것들.]</td> 
              </tr> 
           </tbody>
  	<tbody>
              <tr>
                <td>EMPNO       </td>
                <td></td> 
              </tr> 
           </tbody> 
 
  	<tbody>
              <tr>
                <td>NAME        </td>
                <td></td> 
              </tr> 
           </tbody> 
  	<tbody>
              <tr>
                <td>DEPTNO   </td>
                <td>DEPTNO      </td> 
              </tr> 
           </tbody> 
  	<tbody>
              <tr>
                <td>PAY         </td>
                <td>PAY        </td> 
              </tr> 
           </tbody> 
 	<tbody>
              <tr>
                <td>POSITION    </td>
                <td>POSITION  </td> 
              </tr> 
           </tbody> 
  
 </table><br />
        <div class="colorscripter-code" style="color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#fafafa;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #e5e5e5"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#666;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">SET</span>&nbsp;SERVEROUTPUT&nbsp;<span style="color:#ff3399">ON</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">DELETE</span>&nbsp;<span style="color:#ff3399">FROM</span>&nbsp;EMP2&nbsp;<span style="color:#ff3399">WHERE</span>&nbsp;EMPNO&nbsp;<span style="color:#010101"></span><span style="color:#0099cc">=</span>&nbsp;<span style="color:#004fc8">19960101</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">INSERT</span>&nbsp;<span style="color:#ff3399">INTO</span>&nbsp;EMP2&nbsp;<span style="color:#ff3399">VALUES</span>&nbsp;(<span style="color:#004fc8">19960101</span>,<span style="color:#7DA123">'AL&nbsp;Pacino'</span>,TO_DATE(<span style="color:#7DA123">'19730322'</span>,<span style="color:#7DA123">'YYYYMMDD'</span>),<span style="color:#7DA123">'1000'</span>,<span style="color:#7DA123">'Permanent&nbsp;employee'</span>,<span style="color:#7DA123">'02)6255-8000'</span>,<span style="color:#7DA123">'reading'</span>,<span style="color:#004fc8">72000000</span>,<span style="color:#7DA123">'Department&nbsp;head'</span>,<span style="color:#004fc8">19900101</span>);&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">CREATE</span>&nbsp;OR&nbsp;REPLACE&nbsp;TRIGGER&nbsp;test_trigger</div><div style="padding:0 6px; white-space:pre; line-height:130%">AFTER&nbsp;<span style="color:#ff3399">DELETE</span>&nbsp;<span style="color:#ff3399">ON</span>&nbsp;emp2</div><div style="padding:0 6px; white-space:pre; line-height:130%">FOR&nbsp;EACH&nbsp;ROW</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DECLARE</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VDname&nbsp;<span style="color:#0099cc">CHAR</span>(<span style="color:#004fc8">40</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VCount&nbsp;NUMBER;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PRAGMA&nbsp;AUTONOMOUS_TRANSACTION;</div><div style="padding:0 6px; white-space:pre; line-height:130%">BEGIN</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">SELECT</span>&nbsp;dname&nbsp;<span style="color:#ff3399">INTO</span>&nbsp;VDname&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">FROM</span>&nbsp;dept2</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">WHERE</span>&nbsp;dcode&nbsp;<span style="color:#010101"></span><span style="color:#0099cc">=</span>&nbsp;:old.deptno;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">SELECT</span>&nbsp;count(<span style="color:#010101"></span><span style="color:#0099cc">*</span>)&nbsp;<span style="color:#ff3399">INTO</span>&nbsp;VCount</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">FROM</span>&nbsp;emp2</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">WHERE</span>&nbsp;deptno&nbsp;<span style="color:#010101"></span><span style="color:#0099cc">=</span>:old.deptno;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DBMS_OUTPUT.PUT_LINE(<span style="color:#7DA123">'부서명은&nbsp;'</span><span style="color:#010101"></span><span style="color:#0099cc">|</span><span style="color:#010101"></span><span style="color:#0099cc">|</span>&nbsp;VDname&nbsp;<span style="color:#010101"></span><span style="color:#0099cc">|</span><span style="color:#010101"></span><span style="color:#0099cc">|</span><span style="color:#7DA123">'인원수&nbsp;'</span><span style="color:#010101"></span><span style="color:#0099cc">|</span><span style="color:#010101"></span><span style="color:#0099cc">|</span>VCount);</div><div style="padding:0 6px; white-space:pre; line-height:130%">END;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#010101"></span><span style="color:#0099cc">/</span></div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#e5e5e5text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#e5e5e5;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>
        <pre>
 --ORA-04091 에러코드를 없애주는 마법--
Trigger에 똑같은 테이블을 참조할시  돌연변이 생성함
Trigger는 Comiit이나 Rollback을 사용하는게 아닙니다.
DDL사용할시 똑같은 테이블을 참조하면  04091ERROR가 발생합니다.
1 문장레벨 트리거를 사용 -근대 new, old를 사용해야할때 사용 불가.
2 AUTONMOUS_TRANSACTION -독립적인 트렌젝션 [따로 돌아갑니다.]        
        </pre>
        <!-- 본문 끝-->
      </div><!--main-post-->
    </div><!-- main-wrapper 본문 끝-->
  </div><!-- wrapper-->

  <div id="footers"></div>

</body>

</html>
